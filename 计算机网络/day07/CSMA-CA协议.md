# CSMA-CA协议

载波监听多点接入/碰撞避免

- 为什么要有CSMA/CA
  - 无线局域网无法做到360°全面检测碰撞
  - 隐蔽站,可能会出现冲突

## 工作原理

- 发送数据帧,先检测信道是否空闲
- 空闲则发出RTS(request to send), RTS包括发射端的地址,接受端的地址,下一份数据将持续发送的时间等信息,信道忙则等待
- 接受端收到RTS后,将相应CTS(clear to send)
- 发送端收到CTS后,开始发送数据帧(同时预约信道,发送方告知其他站点自己要传多久数据)
- 接受端收到数据帧后,将用CRC来检验数据是否正确,正确则相应ACK帧
- 发送方收到ACK就可以进行下一个数据帧的发送,若没有则一直重传至规定的重发次数为止(采用二进制指数退避算法来确定随机的推迟时间)
- 总结: 预约信道 -> ACK帧 -> RTS/CTS(可选)

## CSMA/CD与CSMA/CA

相同点:

- CSMA/CD与CSMA/CA机制都从属于CSMA的思路,其核心是先听再说.换言之,两个在接入信道之前都需要进行监听,当发现信道空闲后,才能进行接入

不同点:

- 传输介质不同,cd用于总线式以太网(有线), ca用于无线局域网(无线)
- 载波监听方式不同,因传输介质不同,cd与ca的检测方式也不同.cd通过电缆种电压的变化的来检测.ca采用能量检测(ed),载波检测(cs)和能量载波混合检测三种检测信道空闲的方式
- cd检测冲突,ca避免冲突
