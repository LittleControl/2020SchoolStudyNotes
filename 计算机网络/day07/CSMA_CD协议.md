# CSMA/CD协议

- CS: 载波监听
- MA: 多点接入(总线型网络)
- CD: 碰撞检测(半双工网络)

## 传播时延对CS的影响

- 最迟多久才能知道自己发送的数据没和别人的碰撞?
- 做多是两倍的总线到端到端的传播时延(2t),同时也是总线的端到端往返传播时延,也称为争用期/冲突窗口/碰撞窗口
- 只要经过2t时间还没有检测到碰撞,就能肯定这次发送不会发生碰撞

## 如何确定碰撞后的重传时机

 截断二进制指数规避算法

- 确定基本退避时间位争用期2t
- 定义参数k,它等于重传次数,不超过10
- 从离散的整数集合[0, 1, 2的k次方-1]中随机取出一个数r, 重传所需要退避的时间就是r倍的基本退避时间,即2r t
- 当重传16次仍不能成功时,说明网络太拥挤,认为此帧永远无法正确发出,抛弃此帧并向高层报告出错

## 最小帧长问题

- 帧的传输时延至少要两倍于信号在总线中的传播时延
- 帧长/数据传输速率 >= 2t
- 最小帧长=总线传播时延 X 数据传输速率 X 2 = 2t * 数据传输速率
- 以太网规定最短帧长为64B,凡是长度小于64B的都是由于冲突而异常终止的无效帧