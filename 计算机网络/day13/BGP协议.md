# BGP协议

## 三个问题

- 和谁交换
  - 与其他AS的邻站BGP发言人交换信息
- 交换什么
  - 交换的网络可达性信息,即要到达某个网络所要经过的一系列AS
- 多久交换
  - 发生变化时更新有变化的一部分

## BGP协议交换信息的过程

## BGP协议报文格式

- BGP是应用层协议,借助TCP传送

## BGP协议特点

- BGP支持CIDR
- 刚运行时交换整个的BGP路由表,以后只需要再发生变化时更新有变化的部分

## BGP-4的四种报文

- OPEN报文: 用来与相邻的另一个BGP发言人建立联系,并认证发送方
- UPDATE报文, 通告新路径或撤销源路径
- KEEPALIVE报文, 在无UPDATE时,周期性证实邻站的连通性,也作为OPEN的确认
- NOTIFICATION报文, 报告先前报文的差错,也用于关闭连接

## 三种路由协议比较

- RIP, 分布式内部网关路由协议,通过UDP交换路由信息
- OSPF, 内部网关路由协议, 采用IP协议
- BGP, 外部网关协议,采用TCP
