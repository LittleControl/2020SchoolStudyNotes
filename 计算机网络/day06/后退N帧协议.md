# GBN

## 停等协议的弊端

流水线技术

- 必须增加序号范围
- 发送方需要缓存多个分组

## GBN中的滑动窗口

发送窗口: 发送方维持一组连续的允许发送的帧的序号  
接受窗口:接收方维持一组连续的允许接受帧的序号

## GBN发送方必须响应的三件事

- 上层的调用
- 收到了一个ACK确认帧
- 超时事件

## GBN接收方要做的事

- 如果正确接收到n号帧,并且按序,那么接收方为n帧发送一个ack,并将该帧中的数据部分交付给上层
- 其余情况都丢弃帧,并为最近按序接受的帧重新发送ack

## 滑动窗口长度

若采用n个比特对帧编号,那么发送窗口的尺寸W,应满足 1<=W<=(2的n次方)-1

## 重点总结

1. 累计确认(偶尔捎带确认)
2. 接收方只按顺序接受帧,不按序无情丢弃
3. 确认序列号最大的,按序到达的帧
4. 发送窗口最大为(2的n次方)-1,接受窗口为1

## GBN协议性能分析

- 因连续发送数据帧而提高了信道利用率
- 在重传时必须把原来已经正确传送的数据帧重传,传送效率低