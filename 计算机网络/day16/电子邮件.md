# 电子邮件

## 电子邮件的信息格式

- 信封
- 内容
  - 首部
    - To
    - Subject
  - 主题

## 组成结构

- 用户代理(两个)
- 邮件服务器(两个)
- 协议
  - SMTP
  - POP3

## SMTP

- 规定了在两个相互通信的SMTP进程之间应如何交换信息
- 负责发送邮件的SMTP进程就是SMTP客户,负责接受邮件的进程就是SMTP服务器
- SMTP规定了14条命令(几个字母)和21种应答信息(三位数字代码+简单文字说明)
- 基于TCP连接,端口号25 C/S

通信过程

- 连接建立
- 邮件发送
- 连接释放

缺点

- SMTP不能传送可执行文件或者其他二进制对象
- SMTP仅限于传送7位ASCII码,不能传送其他非英语国家的文字
- SMTP服务器会拒绝超过一定长度的邮件
- 通用因特网邮件扩充MIME
  - 使电子邮件系统可以支持声音,图像,视频,多种国家语言等等
  - 使得传输内容丰富多彩
  - MIME先也多用于浏览器

## 邮局协议POP3

- 用于接收方读取接收服务器的信息
- TCP连接, 端口号110, C/S
- 工作方式
  - 下载并保留(在服务器)
  - 下载并删除

## 网际报文存取协议IMAP

- IMAP协议比POP3协议复杂,当用户PC上的IMAP客户程序打开IMAP服务器的邮箱时,用户可以看到邮箱的首部,若用户需要打开某个邮件,该邮件才上传到用户的计算机上
- IMAP可以让用户在不同的地方使用不同的计算机随时可以上网阅读处理邮件,还允许只读取邮件中的某一部分(先看正文,由WiFi的时候再下载附件)

## 基于万维网的电子邮件

- 用户接收使用HTTP协议,传输使用SMTP协议
